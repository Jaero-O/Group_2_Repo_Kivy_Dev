#:kivy 2.0.0

<ShareScreen>
    canvas.before:
        Color:
            rgba: 248/255, 248/255, 248/255, 1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:
        size_hint: None, None
        size: 390, 567
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

        canvas.before:
            Color:
                rgba: 0, 0, 0, 0.2
            RoundedRectangle:
                pos: self.x + 5, self.y - 5
                size: self.size
                radius: [15]

            Color:
                rgba: 1, 1, 1, 1
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [15]
        
        Label:
            text: "Share records"
            color: (85/255, 85/255, 85/255, 1)
            font_size: 24
            bold: True
            size_hint: None, None
            size: self.texture_size
            pos_hint: {"x": 0.10, "top": 0.95}
            halign: "left"
            valign: "middle"
        
        Label:
            text: "To share images or records from the prototype to the app, simply scan the QR code below using your mobile device. Once scanned, the app will automatically receive and display the shared images or records for easy access and review."
            color: (0/255, 0/255, 0/255, 0.57)
            font_size: 16
            bold: True
            size_hint: None, None
            size: 320, 131
            pos_hint: {"x": 0.10, "top": 0.85}
            halign: "left"
            valign: "top"
            text_size: self.size
        
        Image:
            source: "app/assets/qr_placeholder.png"
            size_hint: None, None
            size: 253, 253
            pos_hint: {"center_x": 0.5, "y": 0.12}
            allow_stretch: True
            keep_ratio: True
            

    # --- HEADER SECTION ---
    BoxLayout:
        orientation: "horizontal"
        size_hint: None, None
        height: 50
        width: self.parent.width
        pos_hint: {"x": 0.06, "y": 0.92}
        spacing: 5.3

        Image:
            source: "app/assets/share.png"
            size_hint: None, None
            size: 35, 35
            allow_stretch: True
            keep_ratio: True
            color: (6/255, 87/255, 6/255, 1)

    BoxLayout:
        orientation: "horizontal"
        size_hint: None, None
        height: 50
        width: self.parent.width
        pos_hint: {"x": 0.17, "y": 0.91}
        spacing: 5.3

        Label:
            text: "Share"
            color: (5/255, 71/255, 5/255, 1)
            font_size: 32
            bold: True
            valign: "middle"
            halign: "left"
            text_size: self.size

    # --- BACK BUTTON ---
    RoundedButton:
        id: back_button
        size_hint: None, None
        size: 100, 36
        pos_hint: {"x": 0.79, "y": 0.915}
        on_release: app.root.current = 'home'

        BoxLayout:
            orientation: "horizontal"
            size: self.size
            spacing: 6
            padding: [0, 0, 0, 0]
            pos_hint: {"center_y": 0.5}
            size: back_button.size
            pos: back_button.pos

            Image:
                source: "app/assets/back.png"
                allow_stretch: True
                keep_ratio: True
                size_hint: None, None
                size: 20, 20
                pos_hint: {"center_y": 0.5}

            Label:
                text: "Back"
                color: (0/255, 121/255, 0/255, 1)
                font_size: 16
                bold: True
                size_hint_x: None
                width: self.texture_size[0]
                halign: "left"
                valign: "middle"
                pos_hint: {"center_y": 0.5}