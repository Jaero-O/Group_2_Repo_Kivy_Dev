#:kivy 2.2.0

# ---------- Global defaults ----------
<Button>:
    font_size: 26
    size_hint_y: None
    height: 90
    background_normal: ''
    background_color: 0.2, 0.6, 0.3, 1
    color: 1, 1, 1, 1

<Label>:
    halign: 'center'
    valign: 'middle'
    text_size: self.size


# ---------- Screens ----------
<HomeScreen>:
    AnchorLayout:
        anchor_y: 'center'
        anchor_x: 'center'

        BoxLayout:
            orientation: 'vertical'
            padding: [30, 40]
            spacing: 20
            size_hint_y: None
            height: self.minimum_height  # only take space it needs

            Label:
                text: "Mango Leaf Scanner"
                font_size: 34
                bold: True
                size_hint_y: None
                height: 100

            Button:
                text: "Scan Leaf"
                on_release: app.root.current = 'scan'

            Button:
                text: "View Records"
                on_release: app.root.current = 'view_records'

            Button:
                text: "Share Images"
                on_release: app.root.current = 'share'

            Button:
                text: "Help / Info"
                on_release: app.root.current = 'help'


<ScanScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Scanning..."
            font_size: 30
            size_hint_y: None
            height: 120

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint_y: None
            height: 100

            Button:
                text: "Cancel"
                on_release: app.root.current = 'home'
            Button:
                text: "Scan"
                on_release: app.root.current = 'scan_result'


<ScanResultScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Image Taken"
            font_size: 30
            size_hint_y: None
            height: 100

        BoxLayout:
            spacing: 15
            size_hint_y: None
            height: 100
            Button:
                text: "Retake"
                on_release: app.root.current = 'scan'
            Button:
                text: "Save"
                on_release: app.root.current = 'save_leaf'


<SaveLeafScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Save Leaf to:"
            font_size: 30
            size_hint_y: None
            height: 100

        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 10

                Button:
                    text: "Tree 1"
                    on_release: app.predict_disease()
                Button:
                    text: "New Tree"
                    on_release: app.root.current = 'add_tree'

        Button:
            text: "Back"
            on_release: app.root.current = 'scan_result'


<AddTreeScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Add New Tree"
            font_size: 30
            size_hint_y: None
            height: 100

        TextInput:
            hint_text: "Enter Tree Name"
            size_hint_y: None
            height: 80
            font_size: 24

        Button:
            text: "Add Tree"
            on_release: app.root.current = 'save_leaf'

        Button:
            text: "Back"
            on_release: app.root.current = 'save_leaf'


<ClassificationScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: root.disease_text
            font_size: 28
        Label:
            text: root.severity_text
            font_size: 28

        BoxLayout:
            size_hint_y: None
            height: 100
            spacing: 15

            Button:
                text: "View Info"
                on_release: app.root.current = 'disease_info'
            Button:
                text: "Back"
                on_release: app.root.current = 'save_leaf'

        Button:
            text: "Save Leaf"
            on_release: app.root.current = 'save_confirmation'


<SaveConfirmationScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Leaf is Saved!"
            font_size: 32
            height: 100
            size_hint_y: None
        Button:
            text: "Scan Again"
            on_release: app.root.current = 'scan'
        Button:
            text: "Home"
            on_release: app.root.current = 'home'


<ViewRecordsScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        TextInput:
            hint_text: "Search Tree"
            size_hint_y: None
            height: 70
            font_size: 22
        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 10
                Button:
                    text: "Tree 1"
                    on_release: app.root.current = 'images_per_tree'
        Button:
            text: "Back"
            on_release: app.root.current = 'home'


<ImagesPerTreeScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Images per Tree"
            font_size: 28
        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 10
                Button:
                    text: "Leaf 1"
                    on_release: app.root.current = 'leaf_data'
        Button:
            text: "Back"
            on_release: app.root.current = 'view_records'


<LeafDataScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Leaf Data"
            font_size: 30
        Label:
            text: "Disease: Anthracnose"
            font_size: 24
        Label:
            text: "Severity: 45%"
            font_size: 24
        Button:
            text: "Back"
            on_release: app.root.current = 'images_per_tree'


<ShareScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        Label:
            text: "Share Images"
            font_size: 32
        Label:
            text: "Instructions for sharing images"
            font_size: 22
        Label:
            text: "QR Code Placeholder"
            font_size: 20
        Button:
            text: "Back"
            on_release: app.root.current = 'home'


<HelpScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        Label:
            text: "Help / Info"
            font_size: 32
            size_hint_y: None
            height: 100
        Button:
            text: "Anthracnose Disease"
            on_release: app.root.current = 'disease_info'
        Button:
            text: "System Specification"
            on_release: app.root.current = 'system_spec'
        Button:
            text: "Guidelines & Precautions"
            on_release: app.root.current = 'guidelines'
        Button:
            text: "About Us"
            on_release: app.root.current = 'about'
        Button:
            text: "Back"
            on_release: app.root.current = 'home'


<DiseaseInfoScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "About Anthracnose Disease"
            font_size: 26
        Button:
            text: "Back"
            on_release: app.root.current = 'help'


<SystemSpecScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "System Specification"
            font_size: 26
        Button:
            text: "Back"
            on_release: app.root.current = 'help'


<GuidelinesScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "Guidelines and Precautions"
            font_size: 26
        Button:
            text: "Back"
            on_release: app.root.current = 'help'


<AboutScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        Label:
            text: "About Us"
            font_size: 26
        Button:
            text: "Back"
            on_release: app.root.current = 'help'
